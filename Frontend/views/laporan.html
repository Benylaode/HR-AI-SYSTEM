<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Laporan - HR Recruitment System</title>
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%231e3a8a' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><rect width='20' height='14' x='2' y='5' rx='2'/><path d='m9 12 2 2 4-4'/></svg>"
    />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/lucide@0.292.0/dist/umd/lucide.js"></script>
    <style>
      /* Professional Corporate Design */
      .card-sharp {
        border-radius: 0px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .card-hover:hover {
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        transform: translateY(-2px);
      }

      .btn-sharp {
        border-radius: 0px;
      }

      .input-sharp {
        border-radius: 0px;
      }

      /* Professional Color Scheme */
      :root {
        --primary: #1e3a8a; /* Deep Blue */
        --secondary: #64748b; /* Slate Gray */
        --accent: #0ea5e9; /* Sky Blue */
        --success: #059669; /* Emerald */
        --warning: #d97706; /* Amber */
        --danger: #dc2626; /* Red */
        --dark: #0f172a; /* Slate 900 */
        --light: #f8fafc; /* Slate 50 */
      }

      .bg-primary {
        background-color: var(--primary);
      }
      .bg-secondary {
        background-color: var(--secondary);
      }
      .bg-accent {
        background-color: var(--accent);
      }
      .text-primary {
        color: var(--primary);
      }
      .text-secondary {
        color: var(--secondary);
      }
      .border-primary {
        border-color: var(--primary);
      }

      /* Remove all rounded corners */
      * {
        border-radius: 0 !important;
      }

      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f5f9;
      }
      ::-webkit-scrollbar-thumb {
        background: var(--secondary);
      }
      ::-webkit-scrollbar-thumb:hover {
        background: var(--primary);
      }

      .transition-all {
        transition: all 0.2s ease-in-out;
      }

      /* Login Form Styles */
      .login-container {
        background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
        min-height: 100vh;
      }

      .report-card {
        transition: all 0.2s ease-in-out;
      }

      .report-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
      }

      .report-type-badge {
        display: inline-flex;
        align-items: center;
        padding: 0.25rem 0.75rem;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
      }

      .type-summary {
        background-color: #e0f2fe;
        color: #0277bd;
      }
      .type-detailed {
        background-color: #f3e5f5;
        color: #7b1fa2;
      }
      .type-custom {
        background-color: #fff3e0;
        color: #ef6c00;
      }
      .type-scheduled {
        background-color: #e8f5e8;
        color: #2e7d32;
      }

      .report-status {
        display: inline-flex;
        align-items: center;
        padding: 0.25rem 0.75rem;
        font-size: 0.875rem;
        font-weight: 500;
      }

      .status-ready {
        background-color: #dcfce7;
        color: #166534;
      }
      .status-generating {
        background-color: #fef3c7;
        color: #92400e;
      }
      .status-failed {
        background-color: #fee2e2;
        color: #991b1b;
      }
      .status-scheduled {
        background-color: #dbeafe;
        color: #1e40af;
      }
    </style>
  </head>
  <body class="bg-gray-50 font-inter">
    <!-- Login Modal (Initially Hidden) -->
    <div
      id="loginModal"
      class="fixed inset-0 z-50 login-container flex items-center justify-center"
    >
      <div class="bg-white p-10 w-full max-w-lg mx-4 shadow-2xl border">
        <div class="text-center mb-10">
          <div
            class="mx-auto w-20 h-20 bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center mb-6"
          >
            <i data-lucide="shield-check" class="w-10 h-10 text-white"></i>
          </div>
          <h2 class="text-3xl font-bold text-gray-900 mb-2">
            HR Recruitment System
          </h2>
          <p class="text-gray-600 text-lg">Login untuk Akses Dashboard</p>
        </div>

        <form id="loginForm" class="space-y-6">
          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-3"
              >Email HR</label
            >
            <input
              type="email"
              id="email"
              class="w-full px-4 py-4 border border-gray-300 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 transition-all"
              placeholder="hr@company.com"
              autocomplete="email"
              required
            />
          </div>

          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-3"
              >Password</label
            >
            <input
              type="password"
              id="password"
              class="w-full px-4 py-4 border border-gray-300 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 transition-all"
              placeholder="••••••••"
              autocomplete="current-password"
              required
            />
          </div>

          <div class="flex items-center justify-between">
            <div class="flex items-center">
              <input type="checkbox" id="remember" class="mr-3 w-4 h-4" />
              <label for="remember" class="text-sm text-gray-600"
                >Ingat saya</label
              >
            </div>
            <a
              href="#"
              class="text-sm text-blue-600 hover:text-blue-800 font-medium"
              >Lupa password?</a
            >
          </div>

          <button
            type="submit"
            class="w-full bg-gradient-to-r from-blue-600 to-purple-700 hover:from-blue-700 hover:to-purple-800 text-white py-4 px-6 font-semibold transition-all transform hover:scale-[1.02]"
          >
            Login ke Dashboard
          </button>

          <div class="text-center">
            <p class="text-sm text-gray-500">
              Demo: hr@company.com / password123
            </p>
          </div>
        </form>
      </div>
    </div>

    <!-- Main Application (Initially Hidden) -->
    <div id="mainApp" class="hidden">
      <!-- Modern Sidebar Layout -->
      <div class="flex h-screen bg-gray-50">
        <!-- Sidebar -->
        <div
          class="hidden lg:flex lg:flex-col lg:w-64 lg:fixed lg:inset-y-0 z-50"
        >
          <div
            class="flex-1 flex flex-col min-h-0 bg-white border-r border-gray-200"
          >
            <!-- Logo -->
            <div class="flex-1 flex flex-col pt-5 pb-4 overflow-y-auto">
              <div class="flex items-center flex-shrink-0 px-6">
                <div
                  class="w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center"
                >
                  <i data-lucide="briefcase" class="w-5 h-5 text-white"></i>
                </div>
                <div class="ml-3">
                  <h1 class="text-lg font-bold text-gray-900">HR System</h1>
                  <p class="text-xs text-gray-500">Laporan</p>
                </div>
              </div>

              <!-- Navigation -->
              <nav class="mt-8 flex-1 px-4 space-y-1">
                <a
                  href="dashboard.html"
                  class="sidebar-item text-gray-700 hover:text-blue-700 hover:bg-blue-50 group flex items-center px-3 py-3 text-sm font-medium"
                >
                  <i
                    data-lucide="home"
                    class="text-gray-400 group-hover:text-blue-500 mr-3 h-5 w-5"
                  ></i>
                  Dashboard
                </a>
                <a
                  href="kandidat.html"
                  class="sidebar-item text-gray-700 hover:text-blue-700 hover:bg-blue-50 group flex items-center px-3 py-3 text-sm font-medium"
                >
                  <i
                    data-lucide="users"
                    class="text-gray-400 group-hover:text-blue-500 mr-3 h-5 w-5"
                  ></i>
                  Kandidat
                </a>
                <a
                  href="posisi.html"
                  class="sidebar-item text-gray-700 hover:text-blue-700 hover:bg-blue-50 group flex items-center px-3 py-3 text-sm font-medium"
                >
                  <i
                    data-lucide="briefcase"
                    class="text-gray-400 group-hover:text-blue-500 mr-3 h-5 w-5"
                  ></i>
                  Posisi
                </a>
                <a
                  href="test-management.html"
                  class="sidebar-item text-gray-700 hover:text-blue-700 hover:bg-blue-50 group flex items-center px-3 py-3 text-sm font-medium"
                >
                  <i
                    data-lucide="file-text"
                    class="text-gray-400 group-hover:text-blue-500 mr-3 h-5 w-5"
                  ></i>
                  Test Management
                </a>
                <a
                  href="analytics.html"
                  class="sidebar-item text-gray-700 hover:text-blue-700 hover:bg-blue-50 group flex items-center px-3 py-3 text-sm font-medium"
                >
                  <i
                    data-lucide="bar-chart-3"
                    class="text-gray-400 group-hover:text-blue-500 mr-3 h-5 w-5"
                  ></i>
                  Analytics
                </a>
                <a
                  href="laporan.html"
                  class="sidebar-item active bg-blue-50 border-r-2 border-blue-600 text-blue-700 group flex items-center px-3 py-3 text-sm font-medium"
                >
                  <i
                    data-lucide="file-bar-chart"
                    class="text-blue-500 mr-3 h-5 w-5"
                  ></i>
                  Laporan
                </a>
                <a
                  href="form-apply.html"
                  class="sidebar-item text-gray-700 hover:text-blue-700 hover:bg-blue-50 group flex items-center px-3 py-3 text-sm font-medium"
                >
                  <i
                    data-lucide="file-plus"
                    class="text-gray-400 group-hover:text-blue-500 mr-3 h-5 w-5"
                  ></i>
                  Form Apply
                </a>
                <a
                  href="/admin/tests"
                  class="sidebar-item text-gray-700 hover:text-blue-700 hover:bg-blue-50 group flex items-center px-3 py-3 text-sm font-medium"
                >
                  <i
                    data-lucide="settings"
                    class="text-gray-400 group-hover:text-blue-500 mr-3 h-5 w-5"
                  ></i>
                  Admin Tes
                </a>
              </nav>
            </div>

            <!-- User Profile -->
            <div class="flex-shrink-0 flex border-t border-gray-200 p-4">
              <div class="flex items-center">
                <div
                  class="w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center"
                >
                  <span
                    class="text-white text-sm font-semibold"
                    id="sidebarUserInitial"
                    >H</span
                  >
                </div>
                <div class="ml-3">
                  <p
                    class="text-sm font-medium text-gray-700"
                    id="sidebarUserName"
                  >
                    HR Manager
                  </p>
                  <p class="text-xs text-gray-500" id="sidebarUserEmail">
                    hr@company.com
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Mobile sidebar -->
        <div
          id="mobileSidebar"
          class="lg:hidden fixed inset-0 flex z-40 hidden"
        >
          <div
            class="fixed inset-0 bg-gray-600 bg-opacity-75"
            onclick="toggleMobileSidebar()"
          ></div>
          <div class="relative flex-1 flex flex-col max-w-xs w-full bg-white">
            <div class="absolute top-0 right-0 -mr-12 pt-2">
              <button
                onclick="toggleMobileSidebar()"
                class="ml-1 flex items-center justify-center h-10 w-10 text-white"
              >
                <i data-lucide="x" class="h-6 w-6"></i>
              </button>
            </div>
            <!-- Mobile sidebar content same as desktop -->
            <div class="flex-1 h-0 pt-5 pb-4 overflow-y-auto">
              <div class="flex-shrink-0 flex items-center px-4">
                <div
                  class="w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center"
                >
                  <i data-lucide="briefcase" class="w-5 h-5 text-white"></i>
                </div>
                <h1 class="ml-3 text-lg font-bold text-gray-900">HR System</h1>
              </div>
              <nav class="mt-5 px-2 space-y-1">
                <a
                  href="dashboard.html"
                  class="mobile-sidebar-item text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-base font-medium"
                >
                  <i data-lucide="home" class="text-gray-400 mr-4 h-6 w-6"></i>
                  Dashboard
                </a>
                <a
                  href="kandidat.html"
                  class="mobile-sidebar-item text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-base font-medium"
                >
                  <i data-lucide="users" class="text-gray-400 mr-4 h-6 w-6"></i>
                  Kandidat
                </a>
                <a
                  href="posisi.html"
                  class="mobile-sidebar-item text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-base font-medium"
                >
                  <i
                    data-lucide="briefcase"
                    class="text-gray-400 mr-4 h-6 w-6"
                  ></i>
                  Posisi
                </a>
                <a
                  href="laporan.html"
                  class="mobile-sidebar-item active bg-blue-100 text-blue-900 group flex items-center px-2 py-2 text-base font-medium"
                >
                  <i
                    data-lucide="file-bar-chart"
                    class="text-blue-500 mr-4 h-6 w-6"
                  ></i>
                  Laporan
                </a>
              </nav>
            </div>
          </div>
        </div>

        <!-- Main Content Area -->
        <div class="lg:pl-64 flex flex-col flex-1">
          <!-- Top Header -->
          <div
            class="sticky top-0 z-10 lg:hidden pl-1 pt-1 sm:pl-3 sm:pt-3 bg-gray-50"
          >
            <button
              onclick="toggleMobileSidebar()"
              class="-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center text-gray-500 hover:text-gray-900 focus:outline-none"
            >
              <i data-lucide="menu" class="h-6 w-6"></i>
            </button>
          </div>

          <!-- Header with notifications -->
          <header
            class="bg-white shadow-sm border-b border-gray-200 lg:border-l-0"
          >
            <div class="px-4 sm:px-6 lg:px-8">
              <div class="flex justify-between items-center h-16">
                <div class="flex-1">
                  <h1 class="text-2xl font-bold text-gray-900" id="pageTitle">
                    Laporan & Reports
                  </h1>
                  <p class="text-sm text-gray-600" id="pageSubtitle">
                    Generate dan kelola laporan recruitment comprehensive
                  </p>
                </div>

                <!-- Right side actions -->
                <div class="flex items-center space-x-4">
                  <!-- Create Custom Report -->
                  <button
                    onclick="createCustomReport()"
                    class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 font-medium transition-colors flex items-center"
                  >
                    <i data-lucide="plus-square" class="w-4 h-4 mr-2"></i>
                    Custom Report
                  </button>

                  <!-- Generate Report -->
                  <button
                    onclick="generateQuickReport()"
                    class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 font-medium transition-colors flex items-center"
                  >
                    <i data-lucide="file-plus" class="w-4 h-4 mr-2"></i>
                    Generate Report
                  </button>

                  <!-- Refresh Button -->
                  <button
                    onclick="refreshReports()"
                    class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors"
                  >
                    <i data-lucide="refresh-cw" class="w-5 h-5"></i>
                  </button>

                  <!-- Notifications -->
                  <button
                    class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors relative"
                  >
                    <i data-lucide="bell" class="w-5 h-5"></i>
                    <span
                      id="notificationCount"
                      class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs flex items-center justify-center font-bold rounded-full"
                      >0</span
                    >
                  </button>

                  <!-- User Menu -->
                  <div class="relative">
                    <button
                      onclick="toggleUserMenu()"
                      class="flex items-center space-x-3 p-2 text-sm rounded-lg hover:bg-gray-100 transition-colors"
                    >
                      <div
                        class="w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center"
                      >
                        <span
                          class="text-white text-sm font-semibold"
                          id="headerUserInitial"
                          >H</span
                        >
                      </div>
                      <div class="hidden sm:block text-left">
                        <div
                          class="font-medium text-gray-700"
                          id="headerUserName"
                        >
                          HR Manager
                        </div>
                        <div class="text-xs text-gray-500" id="headerUserEmail">
                          hr@company.com
                        </div>
                      </div>
                      <i
                        data-lucide="chevron-down"
                        class="w-4 h-4 text-gray-400"
                      ></i>
                    </button>

                    <!-- Dropdown menu -->
                    <div
                      id="userMenu"
                      class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-20"
                    >
                      <a
                        href="#"
                        class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        >Profile</a
                      >
                      <a
                        href="#"
                        class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        >Settings</a
                      >
                      <div class="border-t border-gray-200"></div>
                      <button
                        onclick="logout()"
                        class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                      >
                        Logout
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </header>

          <!-- Main Content -->
          <main class="flex-1 overflow-y-auto">
            <div class="px-4 sm:px-6 lg:px-8 py-8">
              <!-- Quick Stats for Reports -->
              <div class="mb-8">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                  <!-- Total Reports -->
                  <div class="bg-white p-6 shadow border border-gray-200">
                    <div class="flex items-center">
                      <div
                        class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center"
                      >
                        <i
                          data-lucide="file-bar-chart"
                          class="w-5 h-5 text-white"
                        ></i>
                      </div>
                      <div class="ml-4">
                        <p class="text-sm font-medium text-gray-500">
                          Total Reports
                        </p>
                        <p
                          class="text-2xl font-bold text-gray-900"
                          id="totalReportsCount"
                        >
                          0
                        </p>
                      </div>
                    </div>
                  </div>

                  <!-- Generated This Month -->
                  <div class="bg-white p-6 shadow border border-gray-200">
                    <div class="flex items-center">
                      <div
                        class="w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center"
                      >
                        <i
                          data-lucide="calendar"
                          class="w-5 h-5 text-white"
                        ></i>
                      </div>
                      <div class="ml-4">
                        <p class="text-sm font-medium text-gray-500">
                          This Month
                        </p>
                        <p
                          class="text-2xl font-bold text-gray-900"
                          id="monthlyReportsCount"
                        >
                          0
                        </p>
                      </div>
                    </div>
                  </div>

                  <!-- Scheduled Reports -->
                  <div class="bg-white p-6 shadow border border-gray-200">
                    <div class="flex items-center">
                      <div
                        class="w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center"
                      >
                        <i data-lucide="clock" class="w-5 h-5 text-white"></i>
                      </div>
                      <div class="ml-4">
                        <p class="text-sm font-medium text-gray-500">
                          Scheduled
                        </p>
                        <p
                          class="text-2xl font-bold text-gray-900"
                          id="scheduledReportsCount"
                        >
                          0
                        </p>
                      </div>
                    </div>
                  </div>

                  <!-- Average Generation Time -->
                  <div class="bg-white p-6 shadow border border-gray-200">
                    <div class="flex items-center">
                      <div
                        class="w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center"
                      >
                        <i data-lucide="zap" class="w-5 h-5 text-white"></i>
                      </div>
                      <div class="ml-4">
                        <p class="text-sm font-medium text-gray-500">
                          Avg Gen Time
                        </p>
                        <p
                          class="text-2xl font-bold text-gray-900"
                          id="avgGenerationTime"
                        >
                          0s
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Report Templates -->
              <div class="mb-8">
                <h3 class="text-lg font-semibold text-gray-900 mb-6">
                  Quick Report Templates
                </h3>
                <div
                  class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
                >
                  <!-- Recruitment Summary -->
                  <div
                    class="report-card bg-white p-6 shadow border border-gray-200 cursor-pointer"
                    onclick="generateTemplateReport('recruitment-summary')"
                  >
                    <div class="flex items-start justify-between mb-4">
                      <div
                        class="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center"
                      >
                        <i data-lucide="users" class="w-6 h-6 text-white"></i>
                      </div>
                      <span class="report-type-badge type-summary"
                        >Summary</span
                      >
                    </div>
                    <h4 class="text-lg font-semibold text-gray-900 mb-2">
                      Recruitment Summary
                    </h4>
                    <p class="text-sm text-gray-600 mb-4">
                      Overview of recruitment metrics, candidate pipeline, and
                      hiring performance.
                    </p>
                    <div class="flex items-center text-xs text-gray-500">
                      <i data-lucide="clock" class="w-3 h-3 mr-1"></i>
                      <span>~2 minutes to generate</span>
                    </div>
                  </div>

                  <!-- DISC Analysis -->
                  <div
                    class="report-card bg-white p-6 shadow border border-gray-200 cursor-pointer"
                    onclick="generateTemplateReport('disc-analysis')"
                  >
                    <div class="flex items-start justify-between mb-4">
                      <div
                        class="w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center"
                      >
                        <i data-lucide="brain" class="w-6 h-6 text-white"></i>
                      </div>
                      <span class="report-type-badge type-detailed"
                        >Detailed</span
                      >
                    </div>
                    <h4 class="text-lg font-semibold text-gray-900 mb-2">
                      DISC Analysis Report
                    </h4>
                    <p class="text-sm text-gray-600 mb-4">
                      Comprehensive analysis of candidate personalities and team
                      compatibility.
                    </p>
                    <div class="flex items-center text-xs text-gray-500">
                      <i data-lucide="clock" class="w-3 h-3 mr-1"></i>
                      <span>~5 minutes to generate</span>
                    </div>
                  </div>

                  <!-- Monthly Performance -->
                  <div
                    class="report-card bg-white p-6 shadow border border-gray-200 cursor-pointer"
                    onclick="generateTemplateReport('monthly-performance')"
                  >
                    <div class="flex items-start justify-between mb-4">
                      <div
                        class="w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center"
                      >
                        <i
                          data-lucide="trending-up"
                          class="w-6 h-6 text-white"
                        ></i>
                      </div>
                      <span class="report-type-badge type-scheduled"
                        >Scheduled</span
                      >
                    </div>
                    <h4 class="text-lg font-semibold text-gray-900 mb-2">
                      Monthly Performance
                    </h4>
                    <p class="text-sm text-gray-600 mb-4">
                      Monthly recruitment KPIs, trends, and department
                      comparisons.
                    </p>
                    <div class="flex items-center text-xs text-gray-500">
                      <i data-lucide="clock" class="w-3 h-3 mr-1"></i>
                      <span>Auto-generated monthly</span>
                    </div>
                  </div>

                  <!-- Position Analysis -->
                  <div
                    class="report-card bg-white p-6 shadow border border-gray-200 cursor-pointer"
                    onclick="generateTemplateReport('position-analysis')"
                  >
                    <div class="flex items-start justify-between mb-4">
                      <div
                        class="w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center"
                      >
                        <i
                          data-lucide="briefcase"
                          class="w-6 h-6 text-white"
                        ></i>
                      </div>
                      <span class="report-type-badge type-detailed"
                        >Detailed</span
                      >
                    </div>
                    <h4 class="text-lg font-semibold text-gray-900 mb-2">
                      Position Analysis
                    </h4>
                    <p class="text-sm text-gray-600 mb-4">
                      Deep dive into job position performance and application
                      trends.
                    </p>
                    <div class="flex items-center text-xs text-gray-500">
                      <i data-lucide="clock" class="w-3 h-3 mr-1"></i>
                      <span>~3 minutes to generate</span>
                    </div>
                  </div>

                  <!-- Test Performance -->
                  <div
                    class="report-card bg-white p-6 shadow border border-gray-200 cursor-pointer"
                    onclick="generateTemplateReport('test-performance')"
                  >
                    <div class="flex items-start justify-between mb-4">
                      <div
                        class="w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center"
                      >
                        <i
                          data-lucide="file-check"
                          class="w-6 h-6 text-white"
                        ></i>
                      </div>
                      <span class="report-type-badge type-summary"
                        >Summary</span
                      >
                    </div>
                    <h4 class="text-lg font-semibold text-gray-900 mb-2">
                      Test Performance
                    </h4>
                    <p class="text-sm text-gray-600 mb-4">
                      Analysis of test completion rates, scores, and link
                      performance.
                    </p>
                    <div class="flex items-center text-xs text-gray-500">
                      <i data-lucide="clock" class="w-3 h-3 mr-1"></i>
                      <span>~2 minutes to generate</span>
                    </div>
                  </div>

                  <!-- Custom Report -->
                  <div
                    class="report-card bg-white p-6 shadow border border-gray-200 cursor-pointer border-dashed border-2 border-gray-300"
                    onclick="createCustomReport()"
                  >
                    <div class="flex items-center justify-center h-full">
                      <div class="text-center text-gray-500">
                        <div
                          class="w-12 h-12 bg-gray-200 flex items-center justify-center mx-auto mb-4"
                        >
                          <i
                            data-lucide="plus"
                            class="w-6 h-6 text-gray-400"
                          ></i>
                        </div>
                        <h4 class="text-lg font-semibold text-gray-700 mb-2">
                          Create Custom Report
                        </h4>
                        <p class="text-sm text-gray-500">
                          Build your own custom report with specific metrics and
                          filters.
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Recent Reports -->
              <div class="bg-white shadow border border-gray-200">
                <div class="px-6 py-4 border-b border-gray-200">
                  <div class="flex items-center justify-between">
                    <h3 class="text-lg font-semibold text-gray-900">
                      Recent Reports
                    </h3>
                    <div class="flex items-center space-x-2">
                      <select
                        id="reportFilter"
                        class="border border-gray-300 px-3 py-1 text-sm focus:border-blue-500 focus:outline-none"
                      >
                        <option value="">All Reports</option>
                        <option value="summary">Summary</option>
                        <option value="detailed">Detailed</option>
                        <option value="custom">Custom</option>
                        <option value="scheduled">Scheduled</option>
                      </select>
                      <button
                        onclick="archiveOldReports()"
                        class="bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 text-sm font-medium transition-colors"
                      >
                        Archive Old
                      </button>
                    </div>
                  </div>
                </div>

                <div class="overflow-x-auto">
                  <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                      <tr>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Report Name
                        </th>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Type
                        </th>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Status
                        </th>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Generated
                        </th>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Size
                        </th>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Actions
                        </th>
                      </tr>
                    </thead>
                    <tbody
                      id="reportsTableBody"
                      class="bg-white divide-y divide-gray-200"
                    >
                      <!-- Loading state -->
                      <tr>
                        <td colspan="6" class="px-6 py-12 text-center">
                          <div
                            class="flex items-center justify-center text-gray-500"
                          >
                            <i
                              data-lucide="loader-2"
                              class="w-6 h-6 animate-spin mr-3"
                            ></i>
                            Loading reports data...
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </main>
        </div>
      </div>
    </div>

    <script>
      const API_BASE = "http://localhost:3011/api";
      // Initialize user from localStorage
      let currentUser = localStorage.getItem("hr_user")
        ? JSON.parse(localStorage.getItem("hr_user"))
        : null;

      // Dummy reports data
      let reportsData = [
        {
          id: "report-001",
          name: "Recruitment Pipeline Report",
          description: "Detailed analysis of current recruitment pipeline",
          type: "recruitment",
          status: "ready",
          generated: new Date("2024-02-15"),
          dataPoints: 245,
        },
        {
          id: "report-002",
          name: "Test Performance Analytics",
          description: "Candidate test results and performance metrics",
          type: "analytics",
          status: "ready",
          generated: new Date("2024-02-14"),
          dataPoints: 156,
        },
        {
          id: "report-003",
          name: "DISC Assessment Summary",
          description: "Personality assessment distribution and trends",
          type: "assessment",
          status: "ready",
          generated: new Date("2024-02-13"),
          dataPoints: 89,
        },
        {
          id: "report-004",
          name: "Hiring Timeline Report",
          description: "Time to hire metrics and recruitment efficiency",
          type: "metrics",
          status: "ready",
          generated: new Date("2024-02-12"),
          dataPoints: 567,
        },
        {
          id: "report-005",
          name: "Department Breakdown Analysis",
          description: "Recruitment by department and position level",
          type: "breakdown",
          status: "ready",
          generated: new Date("2024-02-11"),
          dataPoints: 434,
        },
      ];

      // Initialize Lucide icons
      lucide.createIcons();

      // Sidebar Navigation Functions
      function toggleMobileSidebar() {
        const sidebar = document.getElementById("mobileSidebar");
        sidebar.classList.toggle("hidden");
      }

      function toggleUserMenu() {
        const userMenu = document.getElementById("userMenu");
        userMenu.classList.toggle("hidden");
      }

      // Close user menu when clicking outside
      document.addEventListener("click", function (event) {
        const userMenu = document.getElementById("userMenu");
        const userButton = event.target.closest('[onclick="toggleUserMenu()"]');

        if (!userButton && !userMenu.contains(event.target)) {
          userMenu.classList.add("hidden");
        }
      });

      // Load reports data - menggunakan dummy data lokal (tanpa backend)
      async function loadReportsData() {
        try {
          console.log("✅ Loading reports data (dummy - tanpa backend)...");

          // Simulasi delay loading
          await new Promise((resolve) => setTimeout(resolve, 300));

          console.log(
            "✅ Reports loaded dengan dummy data:",
            reportsData.length,
            "reports"
          );

          // Update UI dengan data
          updateReportsUI();
          updateStats();
        } catch (error) {
          console.error("Error loading reports data:", error);
          showErrorState();
        }
      }

      // Update reports table UI
      function updateReportsUI() {
        const tbody = document.getElementById("reportsTableBody");

        if (reportsData.length === 0) {
          tbody.innerHTML = `
                    <tr>
                        <td colspan="6" class="px-6 py-12 text-center">
                            <div class="text-gray-500">
                                <i data-lucide="file-bar-chart" class="w-12 h-12 mx-auto mb-4 text-gray-300"></i>
                                <p class="text-lg font-medium">No reports found</p>
                                <p class="text-sm">Generate your first report to get started.</p>
                            </div>
                        </td>
                    </tr>
                `;
          lucide.createIcons();
          return;
        }

        tbody.innerHTML = (Array.isArray(reportsData) ? reportsData : [])
          .map(
            (report) => `
                <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4">
                        <div>
                            <div class="text-sm font-medium text-gray-900">${
                              report?.name || "Unnamed Report"
                            }</div>
                            <div class="text-xs text-gray-500">${
                              report?.description || "No description"
                            }</div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="report-type-badge type-${
                          report?.type || "unknown"
                        }">
                            ${
                              (report?.type || "unknown")
                                .charAt(0)
                                .toUpperCase() +
                              (report?.type || "unknown").slice(1)
                            }
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="report-status status-${
                          report?.status || "unknown"
                        }">
                            ${
                              (report?.status || "unknown") === "generating"
                                ? "Generating..."
                                : (report?.status || "unknown")
                                    .charAt(0)
                                    .toUpperCase() +
                                  (report?.status || "unknown").slice(1)
                            }
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        ${new Date(report.generated).toLocaleDateString(
                          "id-ID"
                        )}
                        <div class="text-xs text-gray-500">${new Date(
                          report.generated
                        ).toLocaleTimeString("id-ID", {
                          hour: "2-digit",
                          minute: "2-digit",
                        })}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        <div>${report.size}</div>
                        <div class="text-xs text-gray-500">${
                          report.format
                        }</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <div class="flex space-x-2">
                            ${
                              report.status === "ready"
                                ? `
                                <button onclick="downloadReport('${report.id}')" class="text-blue-600 hover:text-blue-900" title="Download">
                                    <i data-lucide="download" class="w-4 h-4"></i>
                                </button>
                                <button onclick="viewReport('${report.id}')" class="text-green-600 hover:text-green-900" title="View">
                                    <i data-lucide="eye" class="w-4 h-4"></i>
                                </button>
                                <button onclick="shareReport('${report.id}')" class="text-purple-600 hover:text-purple-900" title="Share">
                                    <i data-lucide="share" class="w-4 h-4"></i>
                                </button>
                            `
                                : `
                                <button class="text-gray-400 cursor-not-allowed" title="Generating">
                                    <i data-lucide="loader-2" class="w-4 h-4 animate-spin"></i>
                                </button>
                            `
                            }
                            <button onclick="deleteReport('${
                              report.id
                            }')" class="text-red-600 hover:text-red-900" title="Delete">
                                <i data-lucide="trash-2" class="w-4 h-4"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            `
          )
          .join("");

        lucide.createIcons();
      }

      // Update statistics
      function updateStats() {
        const totalReports = reportsData.length;
        const monthlyReports = (
          Array.isArray(reportsData) ? reportsData : []
        ).filter((r) => {
          const reportDate = new Date(r.generated);
          const currentMonth = new Date().getMonth();
          return reportDate.getMonth() === currentMonth;
        }).length;
        const scheduledReports = (
          Array.isArray(reportsData) ? reportsData : []
        ).filter((r) => r.type === "scheduled").length;

        document.getElementById("totalReportsCount").textContent = totalReports;
        document.getElementById("monthlyReportsCount").textContent =
          monthlyReports;
        document.getElementById("scheduledReportsCount").textContent =
          scheduledReports;
        document.getElementById("avgGenerationTime").textContent = "45s"; // Mock average

        // Update notification count (generating reports)
        const generatingReports = (
          Array.isArray(reportsData) ? reportsData : []
        ).filter((r) => r.status === "generating").length;
        document.getElementById("notificationCount").textContent =
          generatingReports;
        document.getElementById("notificationCount").style.display =
          generatingReports > 0 ? "flex" : "none";
      }

      // Show error state
      function showErrorState() {
        const tbody = document.getElementById("reportsTableBody");
        tbody.innerHTML = `
                <tr>
                    <td colspan="6" class="px-6 py-12 text-center">
                        <div class="text-red-500">
                            <i data-lucide="alert-circle" class="w-12 h-12 mx-auto mb-4"></i>
                            <p class="text-lg font-medium">Error loading reports</p>
                            <p class="text-sm">Please try refreshing the page.</p>
                        </div>
                    </td>
                </tr>
            `;
        lucide.createIcons();
      }

      // Action functions
      function createCustomReport() {
        alert("Custom Report Builder functionality would be implemented here");
      }

      function generateQuickReport() {
        alert(
          "Quick Report Generation functionality would be implemented here"
        );
      }

      function generateTemplateReport(template) {
        alert(
          `Generate ${template} report functionality would be implemented here`
        );
      }

      function refreshReports() {
        console.log("Refreshing reports data...");
        loadReportsData();
      }

      function downloadReport(id) {
        const report = reportsData.find((r) => r.id === id);
        alert(`Download report: ${report.name}`);
      }

      function viewReport(id) {
        const report = reportsData.find((r) => r.id === id);
        alert(`View report: ${report.name}`);
      }

      function shareReport(id) {
        const report = reportsData.find((r) => r.id === id);
        alert(`Share report: ${report.name}`);
      }

      function deleteReport(id) {
        if (confirm("Are you sure you want to delete this report?")) {
          reportsData = (Array.isArray(reportsData) ? reportsData : []).filter(
            (r) => r.id !== id
          );
          updateReportsUI();
          updateStats();
        }
      }

      function archiveOldReports() {
        alert("Archive old reports functionality would be implemented here");
      }

      // Login success handler
      function loginSuccess(userData) {
        currentUser = userData;
        // Save user data to localStorage
        localStorage.setItem("hr_user", JSON.stringify(userData));

        // Update user info in header and sidebar
        updateUserUI(userData);

        // Hide login, show main app
        document.getElementById("loginModal").classList.add("hidden");
        document.getElementById("mainApp").classList.remove("hidden");

        // Load reports data
        loadReportsData();
      }

      // Update user UI elements
      function updateUserUI(userData) {
        if (document.getElementById("headerUserEmail")) {
          document.getElementById("headerUserEmail").textContent =
            userData.email;
        }
        if (document.getElementById("headerUserName")) {
          document.getElementById("headerUserName").textContent = userData.name;
        }
        if (document.getElementById("headerUserInitial")) {
          document.getElementById("headerUserInitial").textContent =
            userData.name.charAt(0);
        }
        if (document.getElementById("sidebarUserEmail")) {
          document.getElementById("sidebarUserEmail").textContent =
            userData.email;
        }
        if (document.getElementById("sidebarUserName")) {
          document.getElementById("sidebarUserName").textContent =
            userData.name;
        }
        if (document.getElementById("sidebarUserInitial")) {
          document.getElementById("sidebarUserInitial").textContent =
            userData.name.charAt(0);
        }
      }

      // Check authentication state on page load
      function checkAuthState() {
        if (currentUser) {
          // User is already logged in
          document.getElementById("loginModal").classList.add("hidden");
          document.getElementById("mainApp").classList.remove("hidden");
          // Update UI with user info
          updateUserUI(currentUser);
          // Load reports data
          loadReportsData();
        } else {
          // Show login modal
          document.getElementById("loginModal").classList.remove("hidden");
          document.getElementById("mainApp").classList.add("hidden");
        }
      }

      // Login functionality
      document.addEventListener("DOMContentLoaded", function () {
        // Check if user is already logged in
        checkAuthState();

        // Set up login form
        document
          .getElementById("loginForm")
          .addEventListener("submit", function (e) {
            e.preventDefault();
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;

            // Demo login validation
            if (email === "hr@company.com" && password === "password123") {
              const userData = {
                email: email,
                name: "HR Manager",
                role: "hr_manager",
              };

              loginSuccess(userData);
            } else {
              alert(
                "Email atau password salah. Gunakan: hr@company.com / password123"
              );
            }
          });
      });

      // Logout functionality
      function logout() {
        currentUser = null;
        // Clear localStorage
        localStorage.removeItem("hr_user");
        document.getElementById("loginModal").classList.remove("hidden");
        document.getElementById("mainApp").classList.add("hidden");
      }
    </script>
  </body>
</html>
